
■ Modules
modprobe - Add and remove modules from the Linux Kernel
depmod - Generate modules.dep and map files
lsmod - Show the status of modules in the Linux Kernel

■ Print
lp -n 2 /etc/passwd
lpr -# 2 /etc/passwd

■ Syslog
/etc/rsyslog.conf
cron.*	/var/log/cron
authpriv.*;authprov.!=info	/var/log/sshlog
*.=crit	/var/log/critical

■ Login
lastlog	- reports the most recent login of all users or of a given users
last, lastb - show a listing of last logged in users

■ Copy
rsync -avz root@1.1.1.1:/home backup

■ sendmail
A. Configure files
  1. /etc/mail/sendmail.cf
     - Cwlocalhost	#set domain name
	 - Fw/etc/mail/local-host-names	#using multiple domain name with config file
	 - DJposein.org	#send domain force setting
	 - O AliasFile=/etc/aliases
  2. /etc/mail/local-host-names
  3. /etc/mail/access
     # 통과 RELAY / 거부 DISCARD / 거부 후 메시지 전송 REJECT
     - From:spammer@aol.com		REJECT
     - TO:posein.org			RELAY
     - Connect:posein.org		RELAY
     # makemap hash /etc/mail/access < /etc/mail/access
  4. /etc/mail/aliases
     - webmaster:	posein, yuloje, jalin, joon, posein@naver.com
     - admin::include:/etc/mail/admgroup
	 # newaliases, sendmail -bi
  5. /etc/mail/sendmail.mc
	 # m4 /etc/mail/sendmail.mc > /etc/mail/sendmail.cf
  6. /etc/mail/virtusertable
     - ceo@linnux.com	posein
     - ceo@windows.com	yuloje
     - @posein.org		posein@naver.com
     # makemap hash /etc/mail/virtusertable < /etc/mail/virtusertable
  7. ~/.forward
     - posein@naver.com

■ Apache Web Server
A. /etc/httpd/conf/httpd.conf
  1. ServerRoot "/etc/httpd/"	#highest grade directory define
  2. Listen 80
  3. ServerName "www.ihd.or.kr:8080"	#hostname define of web server
  4. DocumentRoot "/www"	# web document directory define
  5. ServerAdmin webadmin@example.com
  6. DirectoryIndex index.php index.html index.htm
  7. UserDir www	#normal user web directory define
  8. ErrorDocument 400 "aaa"	# Bad Request
     ErrorDocument 401	# Unauthorized
     ErrorDocument 402 https://a.com/sub_info.html	# Payment REquired
     ErrorDocument 403	# Forbideen
     ErrorDocument 404 /missing.html	# Not Found
     ErrorDocument 502	# Bad GateWay
  9. <Directory />
	    AllowOverride None/AuthConfig
	    Require all denided
	    Order Allow,Deny
	    Deny from all
	    Allow from HOST
	</Directory>
	ㄱ. AllowOverride: 해당 디렉토리에 있는 유저 인증파일인 .htaccess 확인할지 설정
	   - AuthConfig: 사용자 인증 지시자 사용 허락
	ㄴ. Require: 접근 허용 범위 설정(granted 허용, denided 거부)
     	ㄷ. Order에 Deny랑 Allow 순서가 중요한데, 뒤에 나오는 놈은 앞에서 나오는 놈을 무시하고 무조건 적용
B. httpd-userdir.conf
  1. 사용자가 개인 홈페이지 이용하려고 할 때 사용하는 환경설정 파일로, 접근 시 ~ 사용
  2. 사용자 홈 디렉터리 내에 이 디렉터리 생성하고, index.html 등 문서를 위치 시켜야 함
  3. <Directory /home/*/public_html>
		AllowOverride FileInfo AuthConfig Limit Indexes
		Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
		Require method GET POST OPTIONS
    </Directory>
C. httpd-vhosts.conf
  1. IP 주소 하나에 여러 도메인을 사용하는 버추얼 호스트를 설정할 때 사용
  2. 기본 구성(도메인 하나 당)
	<VirtualHost *:80>
		세부설정은 같음
	</VirtualHOST>
D. .htaccess
  1. AuthType Basic
  2. AuthName "Admin Login"
  3. AuthUserFile /etc/password
  4. Require valid-user
E. Apache Command
  1. httpd
	A) httpd &	# start apache
	B) httpd -t	# syntax error check
	C) httpd -l	# list module
	D) httpd -S	# list virtual host information
  2. apachectl
	A) apachectl (start|stop|restart)	
	B) apachectl configtest
	C) apachctl graceful
F. user authtification
  1. make user and account file create
	- htpasswd -c /etc/password posein
  2. httpd.conf
    - <Directory "/usr/local/apache/htdocs/admin">
         AllowOverride AuthConfig
      </Directory>
  3. .htaccess
    - vim /usr/local/apache/htdocs/admin/.htaccess
      # AuthType Basic
      # AuthName "Admin Login"
      # AuthUserFile /etc/password
      # Require valid-user

■ Samba
A. daemon : smbd, nmbd
B. configure file: /etc/samba/smb.conf
   [www]
   comment = Web Directory
   path = /usr/local/apache/htdocs
   valid users = ihduser kaituser
   writable = yes

   [global]
   workgroup = SAMBA
   server string = Samba Server
   netbios name = MYSERVER
   interfaces = lo eth0 192.168.50.2/24 192.168.51.2/24
   hosts allow = 127. 192.168.12. 192.168.13 EXCEPT(제외) 192.168.51.3
   security = user\
C. command
   1. smbclient -L joon -U administrator%1234(p/w)
   2. smbclient \\\\joon\\source -U administrator
   3. smbstatus	#current connect information
   4. testparm	# samba configure file check
   5. nmblookup	# IP address query from NetBIOS
   6. mount.cifs. mount -t cifs
   7. smbpasswd
   8. pdbedit
